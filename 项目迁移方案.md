# SunStudio 项目迁移方案

## 方案概述
为了在另一台电脑上继续开发，我推荐使用 **Git + GitHub** 方案，这是最专业和可靠的方式。

---

## 🎯 推荐方案：Git + GitHub

### 优点
- ✅ 版本控制，可以随时回退
- ✅ 云端备份，数据安全
- ✅ 多设备同步，随时随地开发
- ✅ 协作友好，未来可以邀请其他开发者
- ✅ 免费且稳定

---

## 📋 迁移步骤

### 第一步：在当前电脑上准备项目

#### 1.1 初始化 Git 仓库
```bash
# 在项目根目录执行
git init
git add .
git commit -m "Initial commit: SunStudio project"
```

#### 1.2 创建 GitHub 仓库
1. 访问 https://github.com
2. 点击右上角 "+" → "New repository"
3. 仓库名称：`sunstudio`（或你喜欢的名字）
4. 选择 **Private**（私有仓库，保护代码）
5. 不要勾选 "Initialize with README"
6. 点击 "Create repository"

#### 1.3 关联并推送到 GitHub
```bash
# 关联远程仓库（替换 YOUR_USERNAME 为你的 GitHub 用户名）
git remote add origin https://github.com/YOUR_USERNAME/sunstudio.git

# 推送代码
git branch -M main
git push -u origin main
```

### 第二步：在新电脑上克隆项目

#### 2.1 安装必要工具
- **Node.js**：https://nodejs.org （推荐 LTS 版本，目前是 v20.x）
- **Git**：https://git-scm.com/downloads
- **代码编辑器**：VS Code 或你喜欢的编辑器

#### 2.2 克隆项目
```bash
# 克隆仓库到本地
git clone https://github.com/YOUR_USERNAME/sunstudio.git

# 进入项目目录
cd sunstudio
```

#### 2.3 安装依赖
```bash
npm install
```

#### 2.4 配置环境变量
创建 `.env.local` 文件，添加以下内容：
```
GEMINI_API_KEY=AIzaSyAa31dI6OI9iq3PLfChFAZjpBRo83frAV8
API_KEY=AIzaSyAa31dI6OI9iq3PLfChFAZjpBRo83frAV8
```

#### 2.5 启动开发服务器
```bash
npm run dev
```

---

## 🔄 日常开发流程

### 在当前电脑完成工作后
```bash
# 1. 查看修改的文件
git status

# 2. 添加所有修改
git add .

# 3. 提交修改（写清楚做了什么）
git commit -m "描述你的修改内容"

# 4. 推送到 GitHub
git push
```

### 在新电脑开始工作前
```bash
# 拉取最新代码
git pull
```

### 在新电脑完成工作后
```bash
# 同样的流程
git add .
git commit -m "描述你的修改内容"
git push
```

---

## 🛡️ 安全注意事项

### 已配置的安全措施
`.gitignore` 文件已经配置好，以下文件不会被上传：
- ✅ `node_modules/` - 依赖包（太大，不需要上传）
- ✅ `*.local` - 环境变量文件（包含 API Key）
- ✅ `dist/` - 构建产物
- ✅ `.vscode/` - 编辑器配置

### ⚠️ 重要提醒
- **API Key 安全**：`.env.local` 文件已被 `.gitignore` 忽略，不会上传到 GitHub
- **私有仓库**：确保 GitHub 仓库设置为 Private
- **备份 API Key**：将 API Key 单独保存在安全的地方（密码管理器或加密笔记）

---

## 📦 备选方案

### 方案 2：压缩包 + 云盘
如果不想用 Git，可以使用这个简单方案：

#### 在当前电脑
1. 删除 `node_modules` 文件夹（太大）
2. 压缩整个项目文件夹为 `sunstudio.zip`
3. 上传到云盘（OneDrive、百度网盘、阿里云盘等）

#### 在新电脑
1. 下载并解压 `sunstudio.zip`
2. 运行 `npm install` 安装依赖
3. 创建 `.env.local` 文件，添加 API Key
4. 运行 `npm run dev` 启动

**缺点**：
- ❌ 没有版本控制
- ❌ 需要手动同步
- ❌ 容易出现版本冲突

---

## 🔧 项目依赖说明

### 核心依赖
- **React 19.2.0** - UI 框架
- **Vite 6.2.0** - 构建工具
- **TypeScript 5.8.2** - 类型系统
- **@google/genai 1.30.0** - Google Gemini API
- **Three.js 0.182.0** - 3D 渲染（多角度相机功能）
- **lucide-react 0.555.0** - 图标库

### 开发命令
```bash
npm run dev      # 启动开发服务器（默认 http://localhost:5173）
npm run build    # 构建生产版本
npm run preview  # 预览生产版本
```

---

## 📝 项目结构

```
sunstudio/
├── components/           # React 组件
│   ├── Node.tsx         # 节点基础组件
│   ├── SidebarDock.tsx  # 左侧工具栏
│   ├── AssistantPanel.tsx # AI 助手面板
│   ├── MultiAngleCameraNode.tsx # 多角度相机
│   ├── GridSplitterNode.tsx # 九宫格处理
│   └── ...              # 其他组件
├── services/            # 服务层
│   ├── geminiService.ts # Gemini API 服务
│   ├── nanoBananaService.ts # Nano Banana API
│   ├── chatService.ts   # 聊天服务
│   └── storage.ts       # 本地存储
├── App.tsx              # 主应用组件
├── types.ts             # TypeScript 类型定义
├── index.tsx            # 应用入口
├── index.html           # HTML 模板
├── vite.config.ts       # Vite 配置
├── tsconfig.json        # TypeScript 配置
├── package.json         # 项目配置
├── .env.local           # 环境变量（不会上传到 Git）
└── .gitignore           # Git 忽略文件
```

---

## 🚀 快速开始脚本

### 当前电脑（首次设置）
将以下内容保存为 `setup-git.sh`（Mac/Linux）或 `setup-git.bat`（Windows）：

**Windows (setup-git.bat):**
```batch
@echo off
echo 初始化 Git 仓库...
git init
git add .
git commit -m "Initial commit: SunStudio project"

echo.
echo 请在 GitHub 创建仓库后，执行以下命令：
echo git remote add origin https://github.com/YOUR_USERNAME/sunstudio.git
echo git branch -M main
echo git push -u origin main
pause
```

### 新电脑（首次设置）
将以下内容保存为 `setup-new.bat`（Windows）：

```batch
@echo off
echo 安装依赖...
call npm install

echo.
echo 创建环境变量文件...
echo GEMINI_API_KEY=AIzaSyAa31dI6OI9iq3PLfChFAZjpBRo83frAV8 > .env.local
echo API_KEY=AIzaSyAa31dI6OI9iq3PLfChFAZjpBRo83frAV8 >> .env.local

echo.
echo 设置完成！运行 npm run dev 启动项目
pause
```

---

## 📞 常见问题

### Q1: 如果两台电脑同时修改了代码怎么办？
**A:** Git 会提示冲突，需要手动解决。建议：
- 每次开始工作前先 `git pull`
- 每次结束工作后立即 `git push`
- 避免同时在两台电脑上修改同一个文件

### Q2: 忘记推送代码就换电脑了怎么办？
**A:** 回到原电脑执行 `git push`，然后在新电脑执行 `git pull`

### Q3: npm install 很慢怎么办？
**A:** 使用国内镜像：
```bash
npm config set registry https://registry.npmmirror.com
npm install
```

### Q4: API Key 配额用完了怎么办？
**A:** 
- Gemini API：访问 https://ai.google.dev/ 升级到付费计划
- 或者申请新的免费 API Key（每个账号有限额）

---

## ✅ 检查清单

### 当前电脑准备
- [ ] 已安装 Git
- [ ] 已创建 GitHub 账号
- [ ] 已初始化 Git 仓库
- [ ] 已创建 GitHub 仓库（Private）
- [ ] 已推送代码到 GitHub
- [ ] 已备份 API Key

### 新电脑准备
- [ ] 已安装 Node.js
- [ ] 已安装 Git
- [ ] 已克隆项目
- [ ] 已运行 npm install
- [ ] 已创建 .env.local 文件
- [ ] 已测试 npm run dev

---

## 📚 相关文档

项目中已有的文档：
- `故事创作完整流程.md` - 故事创作功能说明
- `多角度相机完善总结.md` - 多角度相机功能说明
- `菜单优化更新说明.md` - 最新的菜单优化说明
- `一键整理功能说明.md` - 一键整理功能说明
- `智能连接功能说明.md` - 智能连接功能说明

---

## 🎉 总结

推荐使用 **Git + GitHub** 方案，只需要：
1. 当前电脑：`git init` → 创建 GitHub 仓库 → `git push`
2. 新电脑：`git clone` → `npm install` → 创建 `.env.local` → `npm run dev`

简单、安全、专业！

有任何问题随时问我 😊
