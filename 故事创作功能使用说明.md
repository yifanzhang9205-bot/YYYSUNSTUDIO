# 故事创作功能使用说明

## ✅ 已完成功能

### 1. 创意工作室节点（Story Studio）

**创建方式：**
- 双击画布 → 选择"故事创作" → "创意工作室"

**功能说明：**

#### 未选中状态（简洁预览）
- 显示剧本标题和简介
- 显示角色数和镜头数
- 占用空间小，便于画布布局

#### 选中状态（完整编辑）
- **创意输入**：多行文本框，输入你的故事灵感
- **基础配置**：
  - 风格：科幻/温馨/悬疑/商业广告/动作/喜剧/文艺
  - 时长：15秒/30秒/60秒/90秒
  - 镜头数：3-20个（可自定义）

- **高级选项**（点击展开）：
  - 自定义补充提示词：添加你的特殊要求
  - 例如："强调色彩对比"、"添加赛博朋克元素"

- **生成按钮**：点击生成完整剧本

#### 生成结果
- 剧本标题和概要
- 角色列表（名字、描述、性格）
- 场景列表（地点、时间、氛围）
- 镜头列表（景别、角度、动作）

---

## 🎯 使用流程

### 第一步：创建创意工作室节点
1. 双击画布空白处
2. 选择"故事创作" → "创意工作室"
3. 点击节点选中它

### 第二步：输入创意
```
示例创意：
一个程序员在深夜加班时，发现了一个神秘的代码，
这段代码似乎能够预测未来...
```

### 第三步：配置参数
- 选择风格：科幻
- 设置时长：30秒
- 镜头数：6个

### 第四步：生成剧本
- 点击"生成剧本"按钮
- 等待 AI 生成完整的故事结构
- 查看生成的角色、场景、镜头详情

---

## 📝 提示词设计说明

### 系统内置提示词（自动生成）
系统会自动构建专业的提示词，包括：
- 故事结构要求（起承转合）
- 视觉化描述要求
- 角色和场景细节要求
- 镜头语言规范

### 用户自定义补充
你可以在"高级选项"中添加：
- 特殊风格要求
- 色彩偏好
- 情感基调
- 特定元素

---

## 🔄 下一步开发计划

### 即将完成的功能：
1. **角色参考生成节点**
   - 从剧本中提取角色
   - 生成 9 宫格角色参考图
   - 用户选择最满意的一张

2. **场景参考生成节点**
   - 从剧本中提取场景
   - 生成 9 宫格场景参考图
   - 建立风格库

3. **分镜生成节点**
   - 基于剧本和角色/场景参考
   - 生成 9 宫格分镜预览
   - 保持角色一致性

4. **分镜序列编排**
   - 时间轴视图
   - 拖拽排序
   - 批量生成视频

---

## 💡 使用技巧

1. **创意输入要具体**
   - ❌ "一个有趣的故事"
   - ✅ "一个程序员发现神秘代码的科幻故事"

2. **善用自定义提示词**
   - 添加你想要的特殊元素
   - 强调重要的视觉风格
   - 指定情感基调

3. **合理设置镜头数**
   - 15秒视频：3-4个镜头
   - 30秒视频：5-8个镜头
   - 60秒视频：10-15个镜头

4. **节点连接**
   - 创意工作室 → 角色参考（即将支持）
   - 创意工作室 → 场景参考（即将支持）
   - 角色参考 + 场景参考 → 分镜生成（即将支持）

---

## 🐛 已知问题

目前是第一个版本，后续功能正在开发中：
- [ ] 角色参考生成
- [ ] 场景参考生成
- [ ] 分镜生成
- [ ] 9宫格选择界面
- [ ] 序列编排

---

## 📞 反馈

如果你在使用过程中有任何问题或建议，请随时告诉我！
