# å¤šè§’åº¦ç›¸æœºèŠ‚ç‚¹é›†æˆæ–¹æ¡ˆ

## åŠŸèƒ½æ¦‚è¿°

åŸºäº ComfyUI-qwenmultiangle çš„å¤šè§’åº¦å›¾ç‰‡ç”ŸæˆåŠŸèƒ½ï¼Œä¸º SunStudio æ·»åŠ ä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ç±»å‹ï¼Œå…è®¸ç”¨æˆ·é€šè¿‡ 3D ç›¸æœºæ§åˆ¶ç”ŸæˆåŒä¸€å¯¹è±¡çš„å¤šè§’åº¦è§†å›¾ã€‚

## æ ¸å¿ƒåŠŸèƒ½

### 1. 3D ç›¸æœºæ§åˆ¶
- **æ°´å¹³è§’åº¦ï¼ˆAzimuthï¼‰**ï¼š0Â° - 360Â°
  - æ­£é¢è§†å›¾ã€å³å‰å››åˆ†ä¹‹ä¸€ã€å³ä¾§ã€å³åå››åˆ†ä¹‹ä¸€ã€èƒŒé¢ã€å·¦åå››åˆ†ä¹‹ä¸€ã€å·¦ä¾§ã€å·¦å‰å››åˆ†ä¹‹ä¸€
  
- **å‚ç›´è§’åº¦ï¼ˆElevationï¼‰**ï¼š-30Â° åˆ° 60Â°
  - ä½è§’åº¦æ‹æ‘„ï¼ˆ-30Â°ï¼‰
  - å¹³è§†æ‹æ‘„ï¼ˆ0Â°ï¼‰
  - ä»°è§’æ‹æ‘„ï¼ˆ30Â°ï¼‰
  - é«˜è§’åº¦æ‹æ‘„ï¼ˆ60Â°ï¼‰
  
- **è·ç¦»/ç¼©æ”¾ï¼ˆDistanceï¼‰**ï¼š0 - 10
  - ç‰¹å†™ï¼ˆclose-upï¼‰
  - ä¸­æ™¯ï¼ˆmedium shotï¼‰
  - è¿œæ™¯ï¼ˆwide shotï¼‰

### 2. äº¤äº’å¼ 3D è§†å£
- ä½¿ç”¨ Three.js æ„å»º 3D é¢„è§ˆ
- å¯è§†åŒ–ç›¸æœºä½ç½®å’Œè§’åº¦
- å®æ—¶é¢„è§ˆè¾“å…¥å›¾ç‰‡åœ¨ 3D ç©ºé—´ä¸­çš„ä½ç½®
- æ‹–æ‹½æ§åˆ¶æ‰‹æŸ„è°ƒæ•´è§’åº¦

### 3. è¾“å‡ºæ ¼å¼
ç”Ÿæˆç¬¦åˆ Qwen-Image-Edit-2511-Multiple-Angles-LoRA æ ¼å¼çš„æç¤ºè¯ï¼š
```
azimuth: [angle], elevation: [angle], distance: [distance]
```

## èŠ‚ç‚¹è®¾è®¡

### èŠ‚ç‚¹ç±»å‹
```typescript
NodeType.MULTI_ANGLE_CAMERA = 'MULTI_ANGLE_CAMERA'
```

### èŠ‚ç‚¹æ•°æ®ç»“æ„
```typescript
interface MultiAngleCameraData {
  // è¾“å…¥å›¾ç‰‡
  inputImage?: string;
  
  // ç›¸æœºå‚æ•°
  horizontalAngle: number;  // 0-360
  verticalAngle: number;    // -30 to 60
  zoom: number;             // 0-10
  
  // é¢„è®¾é€‰æ‹©
  horizontalPreset?: 'front' | 'front-right' | 'right' | 'back-right' | 'back' | 'back-left' | 'left' | 'front-left';
  verticalPreset?: 'low-angle' | 'eye-level' | 'elevated' | 'high-angle';
  distancePreset?: 'close-up' | 'medium' | 'wide';
  
  // ç”Ÿæˆçš„æç¤ºè¯
  cameraPrompt?: string;
  
  // ç”Ÿæˆçš„å¤šè§’åº¦å›¾ç‰‡
  generatedImages?: string[];  // 9å®«æ ¼æˆ–å¤šå¼ å›¾ç‰‡
  selectedAngleIndex?: number;
  
  // ç”¨æˆ·è‡ªå®šä¹‰æç¤ºè¯
  userPrompt?: string;
}
```

### UI ç»„ä»¶ç»“æ„

#### æœªé€‰ä¸­çŠ¶æ€ï¼ˆç®€æ´é¢„è§ˆï¼‰
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¤šè§’åº¦ç›¸æœº                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚   [3D é¢„è§ˆç¼©ç•¥å›¾]    â”‚    â”‚
â”‚  â”‚   æ­£é¢è§†å›¾ Â· å¹³è§†     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### é€‰ä¸­çŠ¶æ€ï¼ˆå®Œæ•´ç¼–è¾‘ç•Œé¢ï¼‰
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¤šè§’åº¦ç›¸æœº                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                              â”‚    â”‚
â”‚  â”‚    [3D äº¤äº’å¼è§†å£]            â”‚    â”‚
â”‚  â”‚    - æ‹–æ‹½æ§åˆ¶ç›¸æœº             â”‚    â”‚
â”‚  â”‚    - å®æ—¶é¢„è§ˆ                 â”‚    â”‚
â”‚  â”‚                              â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                      â”‚
â”‚  å¿«é€Ÿé¢„è®¾ï¼š                           â”‚
â”‚  [æ­£é¢â–¼] [å¹³è§†â–¼] [ä¸­æ™¯â–¼]             â”‚
â”‚                                      â”‚
â”‚  ç²¾ç¡®æ§åˆ¶ï¼š                           â”‚
â”‚  æ°´å¹³è§’åº¦: [========â—‹====] 45Â°       â”‚
â”‚  å‚ç›´è§’åº¦: [====â—‹========] 0Â°        â”‚
â”‚  è·ç¦»:     [======â—‹======] 5         â”‚
â”‚                                      â”‚
â”‚  ç›¸æœºæç¤ºè¯ï¼š                         â”‚
â”‚  azimuth: front-right quarter view,  â”‚
â”‚  elevation: eye-level shot,          â”‚
â”‚  distance: medium shot               â”‚
â”‚                                      â”‚
â”‚  è‡ªå®šä¹‰æç¤ºè¯ï¼š                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ æ·»åŠ é¢å¤–çš„æè¿°...             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                      â”‚
â”‚  [ç”Ÿæˆå¤šè§’åº¦å›¾ç‰‡]                     â”‚
â”‚                                      â”‚
â”‚  ç”Ÿæˆç»“æœï¼ˆ9å®«æ ¼ï¼‰ï¼š                  â”‚
â”‚  â”Œâ”€â”€â”€â”¬â”€â”€â”€â”¬â”€â”€â”€â”                      â”‚
â”‚  â”‚ 1 â”‚ 2 â”‚ 3 â”‚                      â”‚
â”‚  â”œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¤                      â”‚
â”‚  â”‚ 4 â”‚ 5 â”‚ 6 â”‚                      â”‚
â”‚  â”œâ”€â”€â”€â”¼â”€â”€â”€â”¼â”€â”€â”€â”¤                      â”‚
â”‚  â”‚ 7 â”‚ 8 â”‚ 9 â”‚                      â”‚
â”‚  â””â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”˜                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æŠ€æœ¯å®ç°

### 1. 3D è§†å£ç»„ä»¶ï¼ˆMultiAngleCameraNode.tsxï¼‰

```typescript
import React, { useRef, useEffect, useState } from 'react';
import * as THREE from 'three';
import { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';

interface MultiAngleCameraNodeProps {
  inputImage?: string;
  horizontalAngle: number;
  verticalAngle: number;
  zoom: number;
  cameraPrompt?: string;
  generatedImages?: string[];
  selectedAngleIndex?: number;
  userPrompt?: string;
  isWorking: boolean;
  isExpanded: boolean;
  
  onHorizontalAngleChange: (value: number) => void;
  onVerticalAngleChange: (value: number) => void;
  onZoomChange: (value: number) => void;
  onPresetSelect: (type: 'horizontal' | 'vertical' | 'distance', value: string) => void;
  onUserPromptChange: (value: string) => void;
  onGenerate: () => void;
  onImageSelect: (index: number) => void;
}

export const MultiAngleCameraNode: React.FC<MultiAngleCameraNodeProps> = ({
  inputImage,
  horizontalAngle,
  verticalAngle,
  zoom,
  cameraPrompt,
  generatedImages,
  selectedAngleIndex,
  userPrompt,
  isWorking,
  isExpanded,
  onHorizontalAngleChange,
  onVerticalAngleChange,
  onZoomChange,
  onPresetSelect,
  onUserPromptChange,
  onGenerate,
  onImageSelect
}) => {
  const canvasRef = useRef<HTMLCanvasElement>(null);
  const sceneRef = useRef<THREE.Scene | null>(null);
  const cameraRef = useRef<THREE.PerspectiveCamera | null>(null);
  const rendererRef = useRef<THREE.WebGLRenderer | null>(null);
  const controlsRef = useRef<OrbitControls | null>(null);
  
  // åˆå§‹åŒ– Three.js åœºæ™¯
  useEffect(() => {
    if (!canvasRef.current || !isExpanded) return;
    
    // åˆ›å»ºåœºæ™¯
    const scene = new THREE.Scene();
    scene.background = new THREE.Color(0x0a0a0c);
    
    // åˆ›å»ºç›¸æœº
    const camera = new THREE.PerspectiveCamera(
      75,
      canvasRef.current.clientWidth / canvasRef.current.clientHeight,
      0.1,
      1000
    );
    
    // åˆ›å»ºæ¸²æŸ“å™¨
    const renderer = new THREE.WebGLRenderer({ 
      canvas: canvasRef.current,
      antialias: true 
    });
    renderer.setSize(canvasRef.current.clientWidth, canvasRef.current.clientHeight);
    
    // æ·»åŠ ç½‘æ ¼åœ°é¢
    const gridHelper = new THREE.GridHelper(10, 10, 0x444444, 0x222222);
    scene.add(gridHelper);
    
    // æ·»åŠ ç¯å¢ƒå…‰
    const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
    scene.add(ambientLight);
    
    // æ·»åŠ æ–¹å‘å…‰
    const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
    directionalLight.position.set(5, 10, 5);
    scene.add(directionalLight);
    
    // å¦‚æœæœ‰è¾“å…¥å›¾ç‰‡ï¼Œåˆ›å»ºå›¾ç‰‡å¹³é¢
    if (inputImage) {
      const textureLoader = new THREE.TextureLoader();
      textureLoader.load(inputImage, (texture) => {
        const geometry = new THREE.PlaneGeometry(2, 2);
        const material = new THREE.MeshBasicMaterial({ 
          map: texture,
          side: THREE.DoubleSide 
        });
        const plane = new THREE.Mesh(geometry, material);
        plane.position.set(0, 1, 0);
        scene.add(plane);
      });
    }
    
    // åˆ›å»ºç›¸æœºå¯è§†åŒ–ï¼ˆé”¥ä½“ï¼‰
    const cameraHelper = new THREE.CameraHelper(camera);
    scene.add(cameraHelper);
    
    // æ·»åŠ è½¨é“æ§åˆ¶
    const controls = new OrbitControls(camera, renderer.domElement);
    controls.enableDamping = true;
    controls.dampingFactor = 0.05;
    
    // ä¿å­˜å¼•ç”¨
    sceneRef.current = scene;
    cameraRef.current = camera;
    rendererRef.current = renderer;
    controlsRef.current = controls;
    
    // åŠ¨ç”»å¾ªç¯
    const animate = () => {
      requestAnimationFrame(animate);
      controls.update();
      renderer.render(scene, camera);
    };
    animate();
    
    // æ¸…ç†
    return () => {
      renderer.dispose();
      controls.dispose();
    };
  }, [isExpanded, inputImage]);
  
  // æ›´æ–°ç›¸æœºä½ç½®
  useEffect(() => {
    if (!cameraRef.current) return;
    
    // å°†è§’åº¦è½¬æ¢ä¸ºå¼§åº¦
    const hRad = (horizontalAngle * Math.PI) / 180;
    const vRad = (verticalAngle * Math.PI) / 180;
    
    // è®¡ç®—ç›¸æœºä½ç½®
    const distance = zoom + 3; // åŸºç¡€è·ç¦»
    const x = distance * Math.cos(vRad) * Math.sin(hRad);
    const y = distance * Math.sin(vRad);
    const z = distance * Math.cos(vRad) * Math.cos(hRad);
    
    cameraRef.current.position.set(x, y, z);
    cameraRef.current.lookAt(0, 1, 0);
  }, [horizontalAngle, verticalAngle, zoom]);
  
  // æœªå±•å¼€æ—¶çš„ç®€æ´é¢„è§ˆ
  if (!isExpanded) {
    return (
      <div className="w-full h-full flex items-center justify-center p-4">
        <div className="text-center">
          <div className="w-16 h-16 mx-auto mb-2 rounded-lg bg-purple-500/20 flex items-center justify-center">
            <span className="text-2xl">ğŸ“·</span>
          </div>
          <div className="text-xs text-slate-400">
            {getAngleDescription(horizontalAngle, verticalAngle, zoom)}
          </div>
        </div>
      </div>
    );
  }
  
  // å±•å¼€æ—¶çš„å®Œæ•´ç•Œé¢
  return (
    <div className="w-full h-full flex flex-col p-4 gap-3">
      {/* 3D è§†å£ */}
      <div className="relative bg-black/20 rounded-xl overflow-hidden" style={{ height: '300px' }}>
        <canvas ref={canvasRef} className="w-full h-full" />
        
        {/* å¿«é€Ÿé¢„è®¾æŒ‰é’® */}
        <div className="absolute top-2 left-2 flex gap-2">
          <select 
            className="px-2 py-1 text-xs bg-black/60 border border-white/10 rounded text-white"
            value={getHorizontalPreset(horizontalAngle)}
            onChange={(e) => onPresetSelect('horizontal', e.target.value)}
          >
            <option value="front">æ­£é¢</option>
            <option value="front-right">å³å‰</option>
            <option value="right">å³ä¾§</option>
            <option value="back-right">å³å</option>
            <option value="back">èƒŒé¢</option>
            <option value="back-left">å·¦å</option>
            <option value="left">å·¦ä¾§</option>
            <option value="front-left">å·¦å‰</option>
          </select>
          
          <select 
            className="px-2 py-1 text-xs bg-black/60 border border-white/10 rounded text-white"
            value={getVerticalPreset(verticalAngle)}
            onChange={(e) => onPresetSelect('vertical', e.target.value)}
          >
            <option value="low-angle">ä½è§’åº¦</option>
            <option value="eye-level">å¹³è§†</option>
            <option value="elevated">ä»°è§’</option>
            <option value="high-angle">é«˜è§’åº¦</option>
          </select>
          
          <select 
            className="px-2 py-1 text-xs bg-black/60 border border-white/10 rounded text-white"
            value={getDistancePreset(zoom)}
            onChange={(e) => onPresetSelect('distance', e.target.value)}
          >
            <option value="close-up">ç‰¹å†™</option>
            <option value="medium">ä¸­æ™¯</option>
            <option value="wide">è¿œæ™¯</option>
          </select>
        </div>
      </div>
      
      {/* ç²¾ç¡®æ§åˆ¶æ»‘å— */}
      <div className="space-y-2">
        <div className="flex items-center gap-2">
          <span className="text-xs text-slate-400 w-16">æ°´å¹³</span>
          <input 
            type="range" 
            min="0" 
            max="360" 
            value={horizontalAngle}
            onChange={(e) => onHorizontalAngleChange(Number(e.target.value))}
            className="flex-1"
          />
          <span className="text-xs text-slate-300 w-12 text-right">{horizontalAngle}Â°</span>
        </div>
        
        <div className="flex items-center gap-2">
          <span className="text-xs text-slate-400 w-16">å‚ç›´</span>
          <input 
            type="range" 
            min="-30" 
            max="60" 
            value={verticalAngle}
            onChange={(e) => onVerticalAngleChange(Number(e.target.value))}
            className="flex-1"
          />
          <span className="text-xs text-slate-300 w-12 text-right">{verticalAngle}Â°</span>
        </div>
        
        <div className="flex items-center gap-2">
          <span className="text-xs text-slate-400 w-16">è·ç¦»</span>
          <input 
            type="range" 
            min="0" 
            max="10" 
            step="0.1"
            value={zoom}
            onChange={(e) => onZoomChange(Number(e.target.value))}
            className="flex-1"
          />
          <span className="text-xs text-slate-300 w-12 text-right">{zoom.toFixed(1)}</span>
        </div>
      </div>
      
      {/* ç›¸æœºæç¤ºè¯æ˜¾ç¤º */}
      {cameraPrompt && (
        <div className="p-2 bg-black/20 rounded-lg border border-white/5">
          <div className="text-[10px] text-slate-500 mb-1">ç›¸æœºæç¤ºè¯</div>
          <div className="text-xs text-slate-300 font-mono">{cameraPrompt}</div>
        </div>
      )}
      
      {/* ç”¨æˆ·è‡ªå®šä¹‰æç¤ºè¯ */}
      <div>
        <div className="text-[10px] text-slate-500 mb-1">è‡ªå®šä¹‰æç¤ºè¯ï¼ˆå¯é€‰ï¼‰</div>
        <textarea
          className="w-full px-2 py-1.5 text-xs bg-black/20 border border-white/5 rounded text-slate-300 resize-none"
          rows={2}
          placeholder="æ·»åŠ é¢å¤–çš„æè¿°..."
          value={userPrompt || ''}
          onChange={(e) => onUserPromptChange(e.target.value)}
        />
      </div>
      
      {/* ç”ŸæˆæŒ‰é’® */}
      <button
        onClick={onGenerate}
        disabled={isWorking}
        className="w-full py-2 bg-purple-500/20 hover:bg-purple-500/30 border border-purple-500/30 rounded-lg text-sm text-purple-300 transition-colors disabled:opacity-50"
      >
        {isWorking ? 'ç”Ÿæˆä¸­...' : 'ç”Ÿæˆå¤šè§’åº¦å›¾ç‰‡'}
      </button>
      
      {/* ç”Ÿæˆç»“æœ 9å®«æ ¼ */}
      {generatedImages && generatedImages.length > 0 && (
        <div>
          <div className="text-[10px] text-slate-500 mb-2">ç”Ÿæˆç»“æœ</div>
          <div className="grid grid-cols-3 gap-1">
            {generatedImages.map((img, index) => (
              <div
                key={index}
                className={`aspect-square rounded overflow-hidden cursor-pointer border-2 transition-all ${
                  selectedAngleIndex === index 
                    ? 'border-purple-500 ring-2 ring-purple-500/50' 
                    : 'border-white/10 hover:border-white/30'
                }`}
                onClick={() => onImageSelect(index)}
              >
                <img src={img} alt={`è§’åº¦ ${index + 1}`} className="w-full h-full object-cover" />
              </div>
            ))}
          </div>
        </div>
      )}
    </div>
  );
};

// è¾…åŠ©å‡½æ•°
function getAngleDescription(h: number, v: number, z: number): string {
  const hDesc = getHorizontalPreset(h);
  const vDesc = getVerticalPreset(v);
  return `${hDesc} Â· ${vDesc}`;
}

function getHorizontalPreset(angle: number): string {
  if (angle >= 337.5 || angle < 22.5) return 'æ­£é¢';
  if (angle >= 22.5 && angle < 67.5) return 'å³å‰';
  if (angle >= 67.5 && angle < 112.5) return 'å³ä¾§';
  if (angle >= 112.5 && angle < 157.5) return 'å³å';
  if (angle >= 157.5 && angle < 202.5) return 'èƒŒé¢';
  if (angle >= 202.5 && angle < 247.5) return 'å·¦å';
  if (angle >= 247.5 && angle < 292.5) return 'å·¦ä¾§';
  return 'å·¦å‰';
}

function getVerticalPreset(angle: number): string {
  if (angle < -15) return 'ä½è§’åº¦';
  if (angle < 15) return 'å¹³è§†';
  if (angle < 45) return 'ä»°è§’';
  return 'é«˜è§’åº¦';
}

function getDistancePreset(zoom: number): string {
  if (zoom < 3.3) return 'ç‰¹å†™';
  if (zoom < 6.7) return 'ä¸­æ™¯';
  return 'è¿œæ™¯';
}
```

### 2. é›†æˆåˆ° App.tsx

```typescript
// æ·»åŠ æ–°èŠ‚ç‚¹ç±»å‹
case NodeType.MULTI_ANGLE_CAMERA:
    compatible.push(NodeType.IMAGE_GENERATOR, NodeType.VIDEO_GENERATOR);
    break;

// æ·»åŠ åˆ°æ™ºèƒ½è¿æ¥
case NodeType.IMAGE_GENERATOR:
case NodeType.IMAGE_EDITOR:
    compatible.push(NodeType.MULTI_ANGLE_CAMERA, NodeType.VIDEO_GENERATOR);
    break;
```

### 3. ç”Ÿæˆé€»è¾‘

```typescript
// åœ¨ handleNodeAction ä¸­æ·»åŠ 
case NodeType.MULTI_ANGLE_CAMERA:
    // æ„å»ºå®Œæ•´æç¤ºè¯
    const cameraPrompt = generateCameraPrompt(
        node.data.horizontalAngle,
        node.data.verticalAngle,
        node.data.zoom
    );
    
    const fullPrompt = node.data.userPrompt 
        ? `${cameraPrompt}, ${node.data.userPrompt}`
        : cameraPrompt;
    
    // è°ƒç”¨ Gemini API ç”Ÿæˆ 9 å¼ ä¸åŒè§’åº¦çš„å›¾ç‰‡
    // ä½¿ç”¨ Qwen-Image-Edit-2511-Multiple-Angles-LoRA
    const images = await generateMultiAngleImages(
        node.data.inputImage,
        fullPrompt,
        9  // ç”Ÿæˆ 9 å¼ å›¾ç‰‡
    );
    
    updateNode(node.id, {
        cameraPrompt,
        generatedImages: images,
        status: NodeStatus.SUCCESS
    });
    break;
```

## å·¥ä½œæµé›†æˆ

### å…¸å‹ä½¿ç”¨åœºæ™¯

1. **è§’è‰²è®¾è®¡å¤šè§’åº¦å±•ç¤º**
   ```
   åˆ›æ„å·¥ä½œå®¤ â†’ è§’è‰²å‚è€ƒ â†’ å¤šè§’åº¦ç›¸æœº â†’ åˆ†é•œç”Ÿæˆ
   ```

2. **äº§å“å±•ç¤º**
   ```
   å›¾ç‰‡ç”Ÿæˆ â†’ å¤šè§’åº¦ç›¸æœº â†’ è§†é¢‘ç”Ÿæˆ
   ```

3. **3D å»ºæ¨¡å‚è€ƒ**
   ```
   è‰å›¾ â†’ å›¾ç‰‡ç”Ÿæˆ â†’ å¤šè§’åº¦ç›¸æœº â†’ å¯¼å‡º
   ```

## ä¾èµ–å®‰è£…

```json
{
  "dependencies": {
    "three": "^0.160.0",
    "@types/three": "^0.160.0"
  }
}
```

## ä¼˜åŠ¿

1. **å¯è§†åŒ–æ§åˆ¶**ï¼šç›´è§‚çš„ 3D è§†å£ï¼Œæ‰€è§å³æ‰€å¾—
2. **ç²¾ç¡®è°ƒæ•´**ï¼šæ”¯æŒæ»‘å—ç²¾ç¡®æ§åˆ¶å’Œé¢„è®¾å¿«é€Ÿé€‰æ‹©
3. **å·¥ä½œæµé›†æˆ**ï¼šæ— ç¼è¿æ¥å…¶ä»–èŠ‚ç‚¹ï¼Œæ”¯æŒæ™ºèƒ½è¿æ¥
4. **å¤šè§’åº¦ç”Ÿæˆ**ï¼šä¸€æ¬¡ç”Ÿæˆ 9 ä¸ªè§’åº¦ï¼Œç”¨æˆ·é€‰æ‹©æœ€ä½³ç»“æœ
5. **æç¤ºè¯é€æ˜**ï¼šæ˜¾ç¤ºç”Ÿæˆçš„ç›¸æœºæç¤ºè¯ï¼Œä¾¿äºç†è§£å’Œè°ƒè¯•

## åç»­æ‰©å±•

1. **è‡ªå®šä¹‰è§’åº¦æ•°é‡**ï¼šæ”¯æŒç”Ÿæˆ 4/9/16 å®«æ ¼
2. **åŠ¨ç”»è·¯å¾„**ï¼šå®šä¹‰ç›¸æœºè¿åŠ¨è·¯å¾„ï¼Œç”Ÿæˆè§†é¢‘
3. **æ‰¹é‡å¤„ç†**ï¼šå¯¹å¤šä¸ªå¯¹è±¡åº”ç”¨ç›¸åŒçš„ç›¸æœºè®¾ç½®
4. **é¢„è®¾åº“**ï¼šä¿å­˜å’ŒåŠ è½½å¸¸ç”¨çš„ç›¸æœºé…ç½®
5. **å¯¼å‡ºåŠŸèƒ½**ï¼šå¯¼å‡ºç›¸æœºå‚æ•°ç”¨äº 3D è½¯ä»¶

## å®ç°ä¼˜å…ˆçº§

1. âœ… åŸºç¡€ UI æ¡†æ¶ï¼ˆæ»‘å—æ§åˆ¶ï¼‰
2. âœ… æç¤ºè¯ç”Ÿæˆé€»è¾‘
3. âš ï¸ Three.js 3D è§†å£ï¼ˆå¯é€‰ï¼Œå…ˆç”¨ 2D é¢„è§ˆï¼‰
4. âœ… 9å®«æ ¼ç»“æœå±•ç¤º
5. âœ… èŠ‚ç‚¹é›†æˆå’Œè¿æ¥
6. âš ï¸ API å¯¹æ¥ï¼ˆéœ€è¦ Qwen LoRA æ”¯æŒï¼‰

å»ºè®®å…ˆå®ç°åŸºç¡€ç‰ˆæœ¬ï¼ˆä¸å« 3D è§†å£ï¼‰ï¼ŒéªŒè¯å·¥ä½œæµåå†æ·»åŠ  Three.js å¯è§†åŒ–ã€‚
